

<div class="ion-page" id="menu">
  <ion-header>
    <ion-toolbar>
      <ion-buttons slot="start">
        <ion-menu-button color="primary" name="menu"></ion-menu-button>
      </ion-buttons>
      <ion-title>{{ modo === 'crear' ? 'Nuevo Usuario' : modo === 'editar' ? 'Editar Usuario' : 'Detalle del Usuario'}}</ion-title>
      <ion-buttons slot="end">
        <ion-back-button defaultHref="/home" icon="return-down-back-outline"></ion-back-button>
      </ion-buttons>
    </ion-toolbar>
  </ion-header>  
 
<ion-content [fullscreen]="true" class="ion-padding">
  <div class="card-container">
    <ion-card>
      <ion-card-content>

        <form (ngSubmit)="guardarUsuario()" *ngIf="usuario">
          <ion-item>
            <ion-label position="floating">Nombre</ion-label>
            <ion-input 
              [(ngModel)]="usuario.nombre" name="nombre"
              [readonly]="modo === 'ver'" required>
            </ion-input>
            <ion-icon class="ion-align-self-center" slot="end" name="person-outline" color="primary"></ion-icon>
          </ion-item>

        <ion-item *ngIf="modo !== 'crear'">
               <!-- solo mostrar en ver   -->
          <ion-label position="floating">Id</ion-label>
          <ion-input 
            [(ngModel)]="usuario.id_usuario" name="id_usuario"
            [readonly]="true" required>
          </ion-input>
          <ion-icon class="ion-align-self-center" slot="end" name="finger-print-outline" color="primary"></ion-icon>
        </ion-item>

          <ion-item>
            <ion-label position="floating">Correo Electrónico</ion-label>
            <ion-input 
            [(ngModel)]="usuario.correo" name="correo" type="email"
            [readonly]="modo === 'ver'"
            required>
          </ion-input>
          <ion-icon class="ion-align-self-center" slot="end" name="mail-outline" color="primary"></ion-icon>
        </ion-item>

        <ion-item>
          <ion-label position="floating">Teléfono</ion-label>
          <ion-input 
            [(ngModel)]="usuario.telefono" name="telefono"
            [readonly]="modo === 'ver'" required>
          </ion-input>
          <ion-icon class="ion-align-self-center" slot="end" name="call-outline" color="primary"></ion-icon>
        </ion-item>

        <ion-item>
          <ion-label position="floating">Rol</ion-label>
          <ion-input 
            [(ngModel)]="usuario.rol" name="rol"
            [readonly]="modo === 'ver'" required>
          </ion-input>
          <ion-icon class="ion-align-self-center" slot="end" name="briefcase-outline" color="primary"></ion-icon>
        </ion-item>

        <ion-item>
          <ion-label position="floating">Contraseña</ion-label>
          <ion-input 
            [(ngModel)]="usuario.contrasena" name="contrasena"
            type="password" required>
          </ion-input>
          <ion-icon class="ion-align-self-center" slot="end" name="lock-closed-outline" color="primary"></ion-icon>
        </ion-item>
        
        <div>
          <!-- <ion-button expand="full" class="boton" type="submit" *ngIf="modo !== 'ver' ">Guardar</ion-button>
          <ion-button expand="full" color="danger" (click)="eliminarUsuario()" *ngIf="modo !== 'crear'">Eliminar</ion-button>
          <ion-button expand="full" class="boton" (click)="guardarUsuario()" *ngIf="modo !== 'editar' ">Editar</ion-button> -->

          <!-- Botón Guardar solo en modo crear o editar -->
          <ion-button expand="full" class="boton" type="submit" *ngIf="modo === 'crear' || modo === 'editar'">Guardar</ion-button>

          <!-- Botón Eliminar solo en modo editar o ver -->
          <ion-button expand="full" color="danger" (click)="eliminarUsuario()" *ngIf="modo !== 'crear'">Eliminar</ion-button>

          <!-- Botón Editar solo en modo ver -->
          <ion-button expand="full" class="boton" (click)="modo = 'editar'" *ngIf="modo === 'ver'">Editar</ion-button>
        </div>

       
      </form>

      </ion-card-content>
    </ion-card>
  </div>

</ion-content>

</div>
